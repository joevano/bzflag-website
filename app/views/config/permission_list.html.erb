<%
 #-------------------------------------------------------------------------------
 # The BZFlag Website Project - administration and monitoring of BZFlag servers
 # Copyright (C) 2009  Bernt T. Hansen
 #
 # This website project is free software; you can redistribute it and/or
 # modify it under the terms of the GNU Lesser General Public
 # License as published by the Free Software Foundation; either
 # version 2.1 of the License, or (at your option) any later version.
 #
 # This website project is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY; without even the implied warranty of
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 # Lesser General Public License for more details.
 #
 # You should have received a copy of the GNU Lesser General Public
 # License along with this website project; if not, write to the Free Software
 # Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
 #-------------------------------------------------------------------------------
 -%>
<p><%= link_to "Config", :action => "index" %>>>Permissions </p>
<h1>Group Permissions</h1>
<% form_for :group do |form| -%>
<table class="permissions">
<tr>
<th>Group Name</th>
<%= render(:partial => "permission", :collection => @permissions) -%>
</tr>
<% @groups.each do |grp| -%>
<tr>
<td><%= grp.name %></td>
<% @permissions.each do |p| -%>
<% if grp.permissions.index(p) -%>
<td><%= check_box_tag("g#{grp.id}p#{p.id}", 1, checked=true) -%></td>
<% else -%>
<td><%= check_box_tag("g#{grp.id}p#{p.id}", 0 ) -%> </td>
<% end -%>
<% end -%>
</tr>
<% end -%>
</table>
<%= button_to :save -%>
<% end -%>
